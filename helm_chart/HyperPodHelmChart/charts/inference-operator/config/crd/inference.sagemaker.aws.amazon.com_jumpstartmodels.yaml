---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.4
  name: jumpstartmodels.inference.sagemaker.aws.amazon.com
spec:
  group: inference.sagemaker.aws.amazon.com
  names:
    kind: JumpStartModel
    listKind: JumpStartModelList
    plural: jumpstartmodels
    singular: jumpstartmodel
  scope: Namespaced
  versions:
  - name: v1alpha1
    schema:
      openAPIV3Schema:
        description: JumpStartModel is the Schema for the jumpstartmodels API.
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: JumpStartModelSpec defines the desired state of JumpStartModel.
            properties:
              environmentVariables:
                description: Additional environment variables to be passed to the
                  inference server. Limited to 100 key-value pairs.
                items:
                  properties:
                    name:
                      type: string
                    value:
                      type: string
                  required:
                  - name
                  - value
                  type: object
                maxItems: 100
                type: array
              maxDeployTimeInSeconds:
                default: 3600
                description: Maximum allowed time in seconds for the deployment to
                  complete before timing out. Defaults to 1 hour (3600 seconds)
                format: int32
                type: integer
              model:
                properties:
                  acceptEula:
                    default: false
                    description: For models that require a Model Access Config, specify
                      True or False to indicate whether model terms of use have been
                      accepted.
                    type: boolean
                  additionalConfigs:
                    items:
                      properties:
                        name:
                          type: string
                        value:
                          type: string
                      required:
                      - name
                      - value
                      type: object
                    maxItems: 10
                    type: array
                  modelHubName:
                    default: SageMakerPublicHub
                    description: The name of the model hub content. Can be an ARN
                      or a simple name.
                    maxLength: 63
                    pattern: ^[a-zA-Z0-9](-*[a-zA-Z0-9]){0,62}$
                    type: string
                  modelId:
                    description: The unique identifier of the model within the specified
                      hub (hubContentArn).
                    maxLength: 63
                    pattern: ^[a-zA-Z0-9](-*[a-zA-Z0-9]){0,62}$
                    type: string
                  modelVersion:
                    description: The version of the model to deploy, in semantic versioning
                      format (e.g., 1.0.0).
                    maxLength: 14
                    minLength: 5
                    pattern: ^\d{1,4}.\d{1,4}.\d{1,4}$
                    type: string
                required:
                - acceptEula
                - modelId
                type: object
              replicas:
                default: 1
                description: The desired number of inference server replicas. Default
                  1.
                format: int32
                type: integer
              sageMakerEndpoint:
                properties:
                  name:
                    maxLength: 63
                    pattern: ^[a-zA-Z0-9](-*[a-zA-Z0-9]){0,62}$
                    type: string
                required:
                - name
                type: object
              server:
                properties:
                  executionRole:
                    description: The Amazon Resource Name (ARN) of an IAM role that
                      will be used to deploy and manage the inference server
                    maxLength: 2048
                    minLength: 20
                    pattern: ^arn:aws[a-z\-]*:iam::\d{12}:role/?[a-zA-Z_0-9+=,.@\-_/]+$
                    type: string
                  instanceType:
                    description: The EC2 instance type to use for the inference server.
                      Must be one of the supported types.
                    pattern: ^ml\..*
                    type: string
                required:
                - instanceType
                type: object
              tlsConfig:
                properties:
                  tlsCertificateOutputS3Uri:
                    pattern: ^s3://([^/]+)/?(.*)$
                    type: string
                type: object
            required:
            - model
            - sageMakerEndpoint
            - server
            type: object
          status:
            description: ModelDeploymentStatus defines the observed state of ModelDeployment
            properties:
              conditions:
                description: Detailed conditions representing the state of the deployment
                items:
                  description: Condition contains details for one aspect of the current
                    state of this API Resource.
                  properties:
                    lastTransitionTime:
                      description: |-
                        lastTransitionTime is the last time the condition transitioned from one status to another.
                        This should be when the underlying condition changed.  If that is not known, then using the time when the API field changed is acceptable.
                      format: date-time
                      type: string
                    message:
                      description: |-
                        message is a human readable message indicating details about the transition.
                        This may be an empty string.
                      maxLength: 32768
                      type: string
                    observedGeneration:
                      description: |-
                        observedGeneration represents the .metadata.generation that the condition was set based upon.
                        For instance, if .metadata.generation is currently 12, but the .status.conditions[x].observedGeneration is 9, the condition is out of date
                        with respect to the current state of the instance.
                      format: int64
                      minimum: 0
                      type: integer
                    reason:
                      description: |-
                        reason contains a programmatic identifier indicating the reason for the condition's last transition.
                        Producers of specific condition types may define expected values and meanings for this field,
                        and whether the values are considered a guaranteed API.
                        The value should be a CamelCase string.
                        This field may not be empty.
                      maxLength: 1024
                      minLength: 1
                      pattern: ^[A-Za-z]([A-Za-z0-9_,:]*[A-Za-z0-9_])?$
                      type: string
                    status:
                      description: status of the condition, one of True, False, Unknown.
                      enum:
                      - "True"
                      - "False"
                      - Unknown
                      type: string
                    type:
                      description: type of condition in CamelCase or in foo.example.com/CamelCase.
                      maxLength: 316
                      pattern: ^([a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*/)?(([A-Za-z0-9][-A-Za-z0-9_.]*)?[A-Za-z0-9])$
                      type: string
                  required:
                  - lastTransitionTime
                  - message
                  - reason
                  - status
                  - type
                  type: object
                type: array
              endpoints:
                description: EndpointStatus contains the status of SageMaker endpoints
                properties:
                  sagemaker:
                    description: Status of the SageMaker endpoint
                    properties:
                      configArn:
                        description: The Amazon Resource Name (ARN) of the endpoint
                          configuration.
                        pattern: (arn:aws[a-z\-]*:sagemaker:[a-z0-9\-]*:[0-9]{12}:endpoint-config/.*|^$)
                        type: string
                      endpointArn:
                        description: The Amazon Resource Name (ARN) of the SageMaker
                          endpoint
                        pattern: (arn:aws[a-z\-]*:sagemaker:[a-z0-9\-]*:[0-9]{12}:endpoint/.*|^$)
                        type: string
                      modelArn:
                        description: The ARN of the model created in SageMaker.
                        pattern: (arn:aws[a-z\-]*:sagemaker:[a-z0-9\-]*:[0-9]{12}:model/.*|^$)
                        type: string
                      state:
                        description: The current state of the SageMaker endpoint
                        type: string
                    required:
                    - state
                    type: object
                type: object
              observedGeneration:
                description: Latest generation reconciled by controller
                format: int64
                type: integer
              replicas:
                description: The observed number of inference server replicas.
                format: int32
                type: integer
              selector:
                description: LabelSelector for the deployment.
                type: string
              state:
                description: Current phase of the model deployment
                enum:
                - DeploymentPending
                - DeploymentInProgress
                - DeploymentFailed
                - DeploymentComplete
                - DeletionPending
                - DeletionInProgress
                - DeletionFailed
                - DeletionComplete
                type: string
              tlsCertificate:
                description: CertificateStatus represents the status of TLS certificates
                properties:
                  certificateARN:
                    description: The Amazon Resource Name (ARN) of the ACM certificate
                    pattern: arn:aws[a-z\-]*:acm:[a-z0-9\-]*:[0-9]{12}:certificate/.*
                    type: string
                  certificateName:
                    description: The certificate name of cert manager
                    type: string
                  issuerName:
                    description: The issuer name of cert manager
                    type: string
                type: object
            type: object
        type: object
    served: true
    storage: true
    subresources:
      scale:
        labelSelectorPath: .status.selector
        specReplicasPath: .spec.replicas
        statusReplicasPath: .status.replicas
      status: {}
